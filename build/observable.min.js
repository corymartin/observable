/*!
 * Observable Mixin
 * ================
 * v0.1.1
 * Adds basic observer pattern functionality to an object.
 * https://github.com/corymartin/observable
 * Copyright (c) 2012 Cory Martin
 * Distributed under the MIT License
 */(function(){"use strict";function l(t,n){return n=e({on:"on",off:"off",fire:"fire"},n),t._events={},t[n.on]=o,t[n.off]=u,t[n.fire]=a,t.getEvents=f,t}var e=function(e,t){if(t!=null)for(var n in t)e[n]=t[n];return e},t=Array.prototype,n=t.slice,r=t.forEach||function(e,t){var n=0;for(;n<this.length;n++)e.call(t,this[n],n,this)},i=function(){var e=Object.prototype.toString;return function(t){return e.call(t)==="[object String]"}}(),s=function(e){var t=e==="bind";return function(e){if(e!=null&&!i(e))return this;if(!t){if(!arguments.length)return this._events={},this;if(arguments.length===1)return delete this._events[e],this}if(arguments.length<2)return this;var s=n.call(arguments,1),o=this._events[e]=this._events[e]||[];return r.call(s,function(e){if(typeof e!="function")return;if(t)return o.push(e);r.call(o,function(t,n){e===t&&o.splice(n,1)})}),this}},o=s("bind"),u=s("unbind"),a=function(){if(!arguments.length)return this;var e=arguments[0],t=this._events[e];if(!t)return this;var i=arguments.length>1?n.call(arguments,1):null;return r.call(t,function(e){i!==null?e.apply(this,i):e.call(this)},this),this},f=function(){return e({},this._events)};l.VERSION="0.1.2",typeof module!="undefined"&&module.exports?module.exports=l:this.observable=l}).call(this);